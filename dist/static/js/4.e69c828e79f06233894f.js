webpackJsonp([4],{167:function(e,t,i){i(251);var n=i(5)(i(223),i(272),"data-v-07d5e01e",null);e.exports=n.exports},178:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"loading",data:function(){return{}}}},180:function(e,t,i){t=e.exports=i(164)(),t.push([e.i,".loading[data-v-1e2b4c8a]{margin:2rem;text-align:center}.loading img[data-v-1e2b4c8a]{width:4.8rem}","",{version:3,sources:["/Users/lanleilin/Desktop/_code/formGit/joiFrontVue/joiFrontVue/src/components/Loading.vue"],names:[],mappings:"AACA,0BACE,YAAa,AACb,iBAAmB,CACpB,AACD,8BACI,YAAc,CACjB",file:"Loading.vue",sourcesContent:["\n.loading[data-v-1e2b4c8a] {\n  margin: 2rem;\n  text-align: center;\n}\n.loading img[data-v-1e2b4c8a] {\n    width: 4.8rem;\n}\n"],sourceRoot:""}])},182:function(e,t,i){var n=i(180);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(165)("6feb33e4",n,!0)},184:function(e,t,i){e.exports=i.p+"static/img/loading_green.c0f9be0.gif"},185:function(e,t,i){i(182);var n=i(5)(i(178),i(187),"data-v-1e2b4c8a",null);e.exports=n.exports},187:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("img",{attrs:{src:i(184),alt:"loading"}})])}]}},193:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tags",props:{items:{type:Array,required:!0}},data:function(){return{}}}},195:function(e,t,i){t=e.exports=i(164)(),t.push([e.i,".tags li[data-v-0890e73b]{display:inline-block;margin:1rem 1rem 0 0;font-size:1.5rem}.tags a[data-v-0890e73b]{display:block;padding:0 1.2rem;line-height:2.8rem;font-size:1.5rem;border-radius:2.8rem;text-align:center;color:#494949;background:#f5f5f5}","",{version:3,sources:["/Users/lanleilin/Desktop/_code/formGit/joiFrontVue/joiFrontVue/src/components/Tags.vue"],names:[],mappings:"AACA,0BACE,qBAAsB,AACtB,qBAAsB,AACtB,gBAAkB,CACnB,AACD,yBACE,cAAe,AACf,iBAAkB,AAClB,mBAAoB,AACpB,iBAAkB,AAClB,qBAAsB,AACtB,kBAAmB,AACnB,cAAe,AACf,kBAAoB,CACrB",file:"Tags.vue",sourcesContent:["\n.tags li[data-v-0890e73b] {\n  display: inline-block;\n  margin: 1rem 1rem 0 0;\n  font-size: 1.5rem;\n}\n.tags a[data-v-0890e73b] {\n  display: block;\n  padding: 0 1.2rem;\n  line-height: 2.8rem;\n  font-size: 1.5rem;\n  border-radius: 2.8rem;\n  text-align: center;\n  color: #494949;\n  background: #f5f5f5;\n}\n"],sourceRoot:""}])},201:function(e,t,i){var n=i(195);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(165)("7d730cff",n,!0)},212:function(e,t,i){i(201);var n=i(5)(i(193),i(214),"data-v-0890e73b",null);e.exports=n.exports},214:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tags"},[i("ul",e._l(e.items,function(t){return i("li",[i("a",{attrs:{href:"#"}},[e._v(e._s(t.name?t.name:t))])])}))])},staticRenderFns:[]}},223:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(32),a=i.n(n),s=i(19),o=i(212),r=i.n(o),l=i(62),d=i.n(l),A=i(185),c=i.n(A);t.default={name:"detail-view",components:{Tags:r.a,DownloadApp:d.a,Loading:c.a},data:function(){return{showLoading:!0,showStageDialog:!1,showModifyDialog:!1,stageIndex:"",selectedStage:"",formTip:{type:"",msg:""},lineForm:{time:"",stage:""}}},filters:{toArray:function(e){return e.split(",")}},computed:a()({content:function(){return this.eventItem.content.replace(/<img.+?>/gi,"")}},i.i(s.c)({eventItem:function(e){return e.activities.eventItem},timeline:function(e){return e.activities.timeline}})),mounted:function(){this.getTimeline(),this.getTimeline()},methods:{formatTime:function(e){return this.$utils.formatTime(e)},getQueryString:function(e){return this.$utils.getQueryString(e)},clearTimeline:function(){this.$store.dispatch("clearTimeline").then(function(e){console.log("ininininin")})},testlog:function(){this.getTimeline()},hasSign:function(e){var t=/^((?!%).)*$/,i=!1;for(var n in e)t.test(e[n])||(i=!0);return i},showStage:function(){var e=(new Date).getTime();this.lineForm.time=this.formatTime(e),this.showStageDialog=!0},showModify:function(e){this.stageIndex=e,this.showModifyDialog=!0},stageOperate:function(e){switch(e){case"lightup":this.lightupStage();break;case"darken":this.darkenStage();break;case"delete":this.deleteStage()}},closeOperate:function(){this.formTip.type="",this.getTimeline(),this.showModifyDialog=!1},confirmOperate:function(){console.log("this.timeline",this.timeline),this.sendUpdate()},lightupStage:function(){this.selectedStage=0,this.timeline[this.stageIndex].status="done"},darkenStage:function(){this.selectedStage=1,this.timeline[this.stageIndex].status="pending"},deleteStage:function(){this.selectedStage=2,this.timeline.splice(this.stageIndex,1)},cancelStage:function(){this.formTip.type="",this.getTimeline(),this.showStageDialog=!1},confirmStage:function(){if(!this.lineForm.stage)return this.formTip.type="error",void(this.formTip.msg="enter stage");var e={status:"pending",time:this.lineForm.time,stage:this.lineForm.stage};this.timeline.push(e),this.sendUpdate()},sendUpdate:function(){console.log("in");var e={id:this.getQueryString("id"),timeline:this.timeline};this.updateTimeline(e)},getTimeline:function(){var e=this,t=this.getQueryString("id");console.log("_lineId",t),this.$store.dispatch("getTimeline",t).then(function(e){console.log("22222",e)}).catch(function(t){e.formTip={type:"error",msg:t}})},updateTimeline:function(e){var t=this;this.$store.dispatch("updateTimeline",e).then(function(e){console.log("uuuuuuuuupTimeline",e),t.formTip.type="success",t.formTip.msg="ssssuccess",t.getTimeline()}).catch(function(e){t.formTip={type:"error",msg:e}})}},created:function(){this.showLoading=!1}}},236:function(e,t,i){t=e.exports=i(164)(),t.push([e.i,".operate-bar[data-v-07d5e01e]{width:100%;padding:1rem;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;background:#f6f6f6}.operate-bar ul li[data-v-07d5e01e]{display:inline-block}.line-form[data-v-07d5e01e]{margin:10px 0}.linePending[data-v-07d5e01e]{filter:grayscale(100%)!important}.time-line ul[data-v-07d5e01e]{width:100%;padding:1rem;overflow:hidden;box-sizing:border-box;background:#f6f6f6}.time-line ul li[data-v-07d5e01e]{padding:1rem 0;float:left}.time-line ul li div[data-v-07d5e01e]{width:100%;text-align:center;padding:2px 4px;box-sizing:border-box;color:#8590a6}.time-line ul .line-id[data-v-07d5e01e]{border-top:2px solid #337ab7;position:relative;margin:5px 0;height:0}.time-line ul .line-id span[data-v-07d5e01e]{position:absolute;top:-9px;margin-left:-8px;height:1.6rem;line-height:1.6rem;width:1.6rem;border-radius:1.6rem;color:#fff;background:#337ab7}.info[data-v-07d5e01e]{margin:1rem}.info h2[data-v-07d5e01e]{margin:2rem 0;font-weight:700;color:#494949}.info .badge[data-v-07d5e01e]{display:inline-block;padding:.1rem .5rem;margin-bottom:.3rem;vertical-align:middle;line-height:1.8rem;font-size:1.2rem;color:#fff;background-color:#ff8263;border-radius:.2rem}.info .poster[data-v-07d5e01e]{margin:2rem auto;text-align:center}.info .poster img[data-v-07d5e01e]{width:100%;max-width:22rem;height:auto}.describe h2[data-v-07d5e01e]{color:#337ab7}.describe .content[data-v-07d5e01e]{overflow:hidden;font-size:1.4rem}","",{version:3,sources:["/Users/lanleilin/Desktop/_code/formGit/joiFrontVue/joiFrontVue/src/views/DetailView.vue"],names:[],mappings:"AACA,8BACE,WAAY,AACZ,aAAc,AACd,sBAAuB,AACvB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,kBAAoB,CACrB,AACD,oCACI,oBAAsB,CACzB,AACD,4BACE,aAAe,CAChB,AACD,8BACE,gCAAmC,CACpC,AACD,+BACE,WAAY,AACZ,aAAc,AACd,gBAAiB,AACjB,sBAAuB,AACvB,kBAAoB,CACrB,AACD,kCACI,eAAgB,AAChB,UAAY,CACf,AACD,sCACM,WAAY,AACZ,kBAAmB,AACnB,gBAAiB,AACjB,sBAAuB,AACvB,aAAe,CACpB,AACD,wCACI,6BAA8B,AAC9B,kBAAmB,AACnB,aAAc,AACd,QAAU,CACb,AACD,6CACM,kBAAmB,AACnB,SAAU,AACV,iBAAkB,AAClB,cAAe,AACf,mBAAoB,AACpB,aAAc,AACd,qBAAsB,AACtB,WAAY,AACZ,kBAAoB,CACzB,AACD,uBACE,WAAa,CACd,AACD,0BACI,cAAe,AACf,gBAAkB,AAClB,aAAe,CAClB,AACD,8BACI,qBAAsB,AACtB,oBAAuB,AACvB,oBAAsB,AACtB,sBAAuB,AACvB,mBAAoB,AACpB,iBAAkB,AAClB,WAAY,AACZ,yBAA0B,AAC1B,mBAAsB,CACzB,AACD,+BACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,mCACM,WAAY,AACZ,gBAAiB,AACjB,WAAa,CAClB,AACD,8BACE,aAAe,CAChB,AACD,oCACE,gBAAiB,AACjB,gBAAkB,CACnB",file:"DetailView.vue",sourcesContent:["\n.operate-bar[data-v-07d5e01e] {\n  width: 100%;\n  padding: 1rem;\n  box-sizing: border-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  background: #f6f6f6;\n}\n.operate-bar ul li[data-v-07d5e01e] {\n    display: inline-block;\n}\n.line-form[data-v-07d5e01e] {\n  margin: 10px 0;\n}\n.linePending[data-v-07d5e01e] {\n  filter: grayscale(100%) !important;\n}\n.time-line ul[data-v-07d5e01e] {\n  width: 100%;\n  padding: 1rem;\n  overflow: hidden;\n  box-sizing: border-box;\n  background: #f6f6f6;\n}\n.time-line ul li[data-v-07d5e01e] {\n    padding: 1rem 0;\n    float: left;\n}\n.time-line ul li div[data-v-07d5e01e] {\n      width: 100%;\n      text-align: center;\n      padding: 2px 4px;\n      box-sizing: border-box;\n      color: #8590A6;\n}\n.time-line ul .line-id[data-v-07d5e01e] {\n    border-top: 2px solid #337ab7;\n    position: relative;\n    margin: 5px 0;\n    height: 0;\n}\n.time-line ul .line-id span[data-v-07d5e01e] {\n      position: absolute;\n      top: -9px;\n      margin-left: -8px;\n      height: 1.6rem;\n      line-height: 1.6rem;\n      width: 1.6rem;\n      border-radius: 1.6rem;\n      color: #fff;\n      background: #337ab7;\n}\n.info[data-v-07d5e01e] {\n  margin: 1rem;\n}\n.info h2[data-v-07d5e01e] {\n    margin: 2rem 0;\n    font-weight: bold;\n    color: #494949;\n}\n.info .badge[data-v-07d5e01e] {\n    display: inline-block;\n    padding: 0.1rem 0.5rem;\n    margin-bottom: 0.3rem;\n    vertical-align: middle;\n    line-height: 1.8rem;\n    font-size: 1.2rem;\n    color: #fff;\n    background-color: #FF8263;\n    border-radius: 0.2rem;\n}\n.info .poster[data-v-07d5e01e] {\n    margin: 2rem auto;\n    text-align: center;\n}\n.info .poster img[data-v-07d5e01e] {\n      width: 100%;\n      max-width: 22rem;\n      height: auto;\n}\n.describe h2[data-v-07d5e01e] {\n  color: #337ab7;\n}\n.describe .content[data-v-07d5e01e] {\n  overflow: hidden;\n  font-size: 1.4rem;\n}\n"],sourceRoot:""}])},251:function(e,t,i){var n=i(236);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(165)("73e33ed9",n,!0)},272:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail-view has-header"},[e.showStageDialog?i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-msg"},["error"===e.formTip.type?i("p",{staticClass:"tip msgError"},[e._v(e._s(e.formTip.msg))]):e._e(),e._v(" "),"success"===e.formTip.type?i("p",{staticClass:"tip msgSuccess"},[e._v(e._s(e.formTip.msg))]):e._e()]),e._v(" "),i("div",{staticClass:"line-form"},[i("div",{staticClass:"ipt-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.lineForm.time,expression:"lineForm.time",modifiers:{trim:!0}}],staticClass:"main-ipt",attrs:{type:"text",name:"time",placeholder:"time"},domProps:{value:e.lineForm.time},on:{input:function(t){t.target.composing||e.$set(e.lineForm,"time",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"ipt-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.lineForm.stage,expression:"lineForm.stage",modifiers:{trim:!0}}],staticClass:"main-ipt",attrs:{type:"text",name:"stage",autofocus:!0,placeholder:"stage"},domProps:{value:e.lineForm.stage},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.confirmStage()},input:function(t){t.target.composing||e.$set(e.lineForm,"stage",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),i("div",{staticClass:"modal-btn"},["success"!==e.formTip.type?i("span",{staticClass:"gray-btn-md",on:{click:function(t){e.confirmStage()}}},[e._v("确认")]):e._e(),e._v(" "),i("span",{staticClass:"blue-btn-md",on:{click:function(t){e.cancelStage()}}},[e._v("close")])])])]):e._e(),e._v(" "),e.showModifyDialog?i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-msg"},["error"===e.formTip.type?i("p",{staticClass:"tip msgError"},[e._v(e._s(e.formTip.msg))]):e._e(),e._v(" "),"success"===e.formTip.type?i("p",{staticClass:"tip msgSuccess"},[e._v(e._s(e.formTip.msg))]):e._e()]),e._v(" "),i("div",{staticClass:"modal-btn"},["success"!==e.formTip.type?i("span",{class:[{"blue-btn-md":0===e.selectedStage},{"gray-btn-md":0!==e.selectedStage}],on:{click:function(t){e.stageOperate("lightup")}}},[e._v("点亮")]):e._e(),e._v(" "),"success"!==e.formTip.type?i("span",{class:[{"blue-btn-md":1===e.selectedStage},{"gray-btn-md":1!==e.selectedStage}],on:{click:function(t){e.stageOperate("darken")}}},[e._v("置灰")]):e._e(),e._v(" "),"success"!==e.formTip.type?i("span",{class:[{"blue-btn-md":2===e.selectedStage},{"gray-btn-md":2!==e.selectedStage}],on:{click:function(t){e.stageOperate("delete")}}},[e._v("删除")]):e._e()]),e._v(" "),i("div",{staticClass:"modal-btn"},["success"!==e.formTip.type?i("span",{staticClass:"navy-btn-md",on:{click:function(t){e.confirmOperate()}}},[e._v("comfirm")]):e._e(),e._v(" "),i("span",{staticClass:"gray-btn-md",on:{click:function(t){e.closeOperate()}}},[e._v("close")])])])]):e._e(),e._v(" "),e.showLoading?e._e():[i("div",{staticClass:"time-line"},[i("ul",e._l(e.timeline,function(t,n){return i("li",{on:{click:function(t){e.showModify(n)}}},[i("div",{staticClass:"line-time"},[e._v(e._s(e.formatTime(t.time)))]),e._v(" "),i("div",{staticClass:"line-id",class:{linePending:"pending"===t.status}},[i("span",[e._v("\n              "+e._s(n)+"\n            ")])]),e._v(" "),i("div",{staticClass:"line-stage"},[e._v(e._s(t.stage))])])}))]),e._v(" "),i("div",{staticClass:"operate-bar"},[i("ul",[i("li",{staticClass:"navy-btn-md",on:{click:function(t){e.showStage()}}},[e._v("添加")]),e._v(" "),i("li",{staticClass:"darkgray-btn-md",on:{click:function(t){e.testlog()}}},[e._v("done")])])]),e._v(" "),i("download-app")],e._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}]})],2)},staticRenderFns:[]}}});
//# sourceMappingURL=4.e69c828e79f06233894f.js.map